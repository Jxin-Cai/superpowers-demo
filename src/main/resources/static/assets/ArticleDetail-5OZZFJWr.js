import{_ as k,f as A,c as n,b as t,d as u,w as i,F as w,g as x,t as r,r as B,h as m,k as C,u as D,l as L,o,e as d,i as M}from"./index-DiXZHzxD.js";import{a as N}from"./article-DFaw3Ivz.js";import{c as I}from"./category-DmPU1bee.js";import"./index-DQ-5gSyr.js";const S={class:"article-page"},T={class:"header"},V={class:"header-content"},b={class:"nav"},F={class:"main"},H={key:0,class:"article"},R={class:"article-title"},E={class:"article-meta"},$={class:"category"},j={class:"time"},q=["innerHTML"],z={key:1,class:"loading"},G={__name:"ArticleDetail",setup(J){const p=L(),v=D(),h=C(()=>p.params.id),s=m(null),_=m([]),f=async()=>{try{const e=await N.getById(h.value);s.value=e.data}catch{v.push("/")}},g=async()=>{try{const e=await I.getAll();_.value=e.data}catch(e){console.error(e)}},y=e=>new Date(e).toLocaleString();return A(()=>{g(),f()}),(e,a)=>{const c=B("router-link");return o(),n("div",S,[t("header",T,[t("div",V,[a[2]||(a[2]=t("h1",{class:"title"},"CMS 系统",-1)),t("nav",b,[u(c,{to:"/",class:"nav-link"},{default:i(()=>[...a[0]||(a[0]=[d("首页",-1)])]),_:1}),(o(!0),n(w,null,x(_.value,l=>(o(),M(c,{key:l.id,to:`/category/${l.id}`,class:"nav-link"},{default:i(()=>[d(r(l.name),1)]),_:2},1032,["to"]))),128)),u(c,{to:"/admin",class:"nav-link admin"},{default:i(()=>[...a[1]||(a[1]=[d("后台管理",-1)])]),_:1})])])]),t("main",F,[s.value?(o(),n("div",H,[t("h1",R,r(s.value.title),1),t("div",E,[t("span",$,r(s.value.categoryName),1),t("span",j,r(y(s.value.publishedAt)),1)]),t("div",{class:"article-content",innerHTML:s.value.renderedContent},null,8,q)])):(o(),n("div",z,"加载中..."))])])}}},U=k(G,[["__scopeId","data-v-df2dff1c"]]);export{U as default};
