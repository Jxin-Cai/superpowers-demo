import{_ as C,o as A,c as r,a as e,b as m,w as i,F as p,r as h,d as x,e as v,u as B,f as o,g as l,h as D,t as n}from"./index-Cxbc8fsp.js";import{a as N}from"./article-DdPejyfS.js";import{c as b}from"./category-DtqOXle2.js";import"./index-ByEsPxBk.js";const S={class:"home"},V={class:"header"},$={class:"header-content"},F={class:"nav"},H={class:"main"},L={class:"article-list"},M=["onClick"],E={class:"article-title"},I={class:"article-meta"},P={class:"category"},R={class:"time"},T={class:"article-preview"},j={__name:"Home",setup(q){const f=B(),d=v([]),_=v([]),g=async()=>{try{const t=await N.getPublished();d.value=t.data}catch(t){console.error(t)}},k=async()=>{try{const t=await b.getAll();_.value=t.data}catch(t){console.error(t)}},y=t=>{f.push(`/article/${t}`)},w=t=>new Date(t).toLocaleDateString();return A(()=>{g(),k()}),(t,a)=>{const c=x("router-link");return o(),r("div",S,[e("header",V,[e("div",$,[a[2]||(a[2]=e("h1",{class:"title"},"CMS 系统",-1)),e("nav",F,[m(c,{to:"/",class:"nav-link"},{default:i(()=>[...a[0]||(a[0]=[l("首页",-1)])]),_:1}),(o(!0),r(p,null,h(_.value,s=>(o(),D(c,{key:s.id,to:`/category/${s.id}`,class:"nav-link"},{default:i(()=>[l(n(s.name),1)]),_:2},1032,["to"]))),128)),m(c,{to:"/admin",class:"nav-link admin"},{default:i(()=>[...a[1]||(a[1]=[l("后台管理",-1)])]),_:1})])])]),e("main",H,[e("div",L,[(o(!0),r(p,null,h(d.value,s=>{var u;return o(),r("div",{key:s.id,class:"article-card",onClick:z=>y(s.id)},[e("h3",E,n(s.title),1),e("div",I,[e("span",P,n(s.categoryName),1),e("span",R,n(w(s.publishedAt)),1)]),e("div",T,n((u=s.renderedContent)==null?void 0:u.slice(0,200))+"...",1)],8,M)}),128))])])])}}},Q=C(j,[["__scopeId","data-v-936ae46d"]]);export{Q as default};
